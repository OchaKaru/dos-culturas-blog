"use strict";(self.webpackChunkdos_culturas=self.webpackChunkdos_culturas||[]).push([[255],{3059:function(e,t,n){n.d(t,{Z:function(){return m}});var a=n(4578),r=n(7294),i=n(4160),l=n(684);const c=(0,l.ZP)((()=>Promise.resolve().then(n.bind(n,7497)).FilledCard)),s=(0,l.ZP)((()=>Promise.resolve().then(n.bind(n,7497)).Image)),o=(0,l.ZP)((()=>Promise.resolve().then(n.bind(n,7497)).Label)),u=(0,l.ZP)((()=>Promise.resolve().then(n.bind(n,7497)).Subheading));let m=function(e){function t(t){var n,a,r,i,l;return(l=e.call(this,t)||this).state={id:null===(n=t.data)||void 0===n?void 0:n.pk,image_url:null===(a=t.data)||void 0===a?void 0:a.image,image:"",name:null===(r=t.data)||void 0===r?void 0:r.name,culture:null===(i=t.data)||void 0===i?void 0:i.culture},l}(0,a.Z)(t,e);var l=t.prototype;return l.componentDidMount=function(){(async()=>{this.setState({image:(await n(3222)("./"+this.state.image_url)).default})})()},l.componentDidUpdate=function(e){e.data!==this.props.data&&(async()=>{this.setState({id:this.props.data.pk,image_url:this.props.data.image,image:(await n(3222)("./"+this.props.data.image)).default,name:this.props.data.name,culture:this.props.data.culture})})()},l.render=function(){return r.createElement(i.rU,{to:"/recipe/",state:{recipe_clicked:this.state.id}},r.createElement(c,{className:"recipe-card",role:"secondary",containerType:"container",rounded:!0,interactable:!0},r.createElement("figure",{className:"recipe-image"},r.createElement(s,{source:this.state.image,alternate:this.state.description})),r.createElement("div",{className:"recipe-meta"},r.createElement(o,{className:"recipe-culture",role:"primary",pill:!0},this.state.culture),r.createElement(u,{className:"recipe-name"},this.state.name))))},t}(r.Component)},6159:function(e,t,n){n.r(t),n.d(t,{Head:function(){return v},default:function(){return E}});var a=n(7294),r=n(4464),i=n(684),l=n(3059);const c=(0,i.ZP)((()=>Promise.resolve().then(n.bind(n,7497)).Pane)),s=(0,i.ZP)((()=>Promise.resolve().then(n.bind(n,7497)).Slideshow));function o(e){let{data:t}=e;const[n,r]=a.useState();return a.useEffect((()=>{r(function(e){let t=[];function n(e){let t=[];if(e)for(let n=0;n<e.length;n++)t.push(a.createElement(l.Z,{key:n,index:n,data:e[n]}));return t}if(e)for(let r=0;r<e.length;r+=6){const i=e.slice(r,r+6);t.push(a.createElement("div",{className:"recipe-slide"},n(i)))}return t}(t))}),[t]),a.createElement(c,{className:"recipe-carousel",containerType:"container",rounded:!0},a.createElement(s,{enterStyle:"fade-in-up",exitStyle:"fade-out-against"},n))}const u=(0,i.ZP)((()=>Promise.resolve().then(n.bind(n,7497)).Checkbox)),m=(0,i.ZP)((()=>Promise.resolve().then(n.bind(n,7497)).Submenu)),d=(0,i.ZP)((()=>Promise.resolve().then(n.bind(n,7497)).FilledButton)),p=(0,i.ZP)((()=>Promise.resolve().then(n.bind(n,7497)).Icon)),h=(0,i.ZP)((()=>Promise.resolve().then(n.bind(n,7497)).SideSheet)),f=(0,i.ZP)((()=>Promise.resolve().then(n.bind(n,7497)).TonalButton));function g(e){let{data:t,onFilter:n,onReset:r}=e;const[i,l]=a.useState(),c=a.useMemo((()=>new Set),[]),[s,o]=a.useState(!1),g=a.useCallback((e=>{c.has(e)?c.delete(e):c.add(e)}),[c]),E=a.useCallback((e=>{let t=[];return["Main Ingredient","Dietary Restriction","Culture","Cooking Method"].forEach((n=>{t.push(a.createElement(m,{key:n,name:n,pill:!0},(e=>{let t=[];if(e)for(let n=0;n<e.length;n++)t.push(a.createElement(u,{key:n,label:e[n].name,defaultChecked:c.has(e[n].name),onToggle:g}));return t})(e[n])))})),t}),[c,g]);return a.useEffect((()=>{l(E(t))}),[t,c,E]),a.createElement(a.Fragment,null,a.createElement(d,{className:"collapse-button "+(s?"open":""),pill:!0,onClick:()=>o(!s)},a.createElement(p,{scale:2},a.createElement("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},a.createElement("rect",{class:"fltr-line1",x:"7",y:"10",width:"18",height:"2"}),a.createElement("rect",{class:"fltr-line2",x:"7",y:"20",width:"18",height:"2"}),a.createElement("circle",{class:"fltr-crcl1",cx:"13",cy:"21",r:"3"}),a.createElement("circle",{class:"fltr-crcl2",cx:"19",cy:"11",r:"3"}))),a.createElement("span",null,"Filters")),a.createElement(h,{open:s},a.createElement("div",{className:"filter-accordion"},i),a.createElement("div",{className:"filter-button-container"},a.createElement(d,{pill:!0,onClick:function(){n(Array.from(c))}},"Filter Recipes"),a.createElement(f,{pill:!0,onClick:function(){c.clear(),r()}},"Reset Filters"))))}function E(){let[e,t]=a.useState([]),[n,i]=a.useState({"Main Ingredient":[],"Dietary Restriction":[],Culture:[],"Cooking Method":[]}),[l,c]=a.useState(!0);return a.useEffect((()=>{l&&(async()=>{i(await r.Z.get_groups()),t(await r.Z.get_recipes())})(),c(!1)}),[l]),a.createElement("main",{className:"recipe-library"},a.createElement(g,{data:n,onFilter:function(e){(async()=>{t(await r.Z.get_recipes(e))})()},onReset:function(){c(!0)}}),a.createElement(o,{data:e}))}const v=()=>a.createElement("title",null,"All Recipes Page")}}]);
//# sourceMappingURL=component---src-pages-library-js-a5c698e71012f216563b.js.map