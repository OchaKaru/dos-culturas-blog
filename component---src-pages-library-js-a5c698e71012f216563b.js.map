{"version":3,"file":"component---src-pages-library-js-a5c698e71012f216563b.js","mappings":"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","sources":["webpack://dos-culturas/./src/components/recipe-card.jsx","webpack://dos-culturas/./src/components/recipe-carousel.jsx","webpack://dos-culturas/./src/components/filter-accordion.jsx","webpack://dos-culturas/./src/pages/library.js"],"sourcesContent":["import * as React from 'react';\r\nimport {Link} from \"gatsby\";\r\nimport loadable from '@loadable/component';\r\n\r\nconst FilledCard = loadable(() => import('../arroz-con-webo').FilledCard);\r\nconst Image = loadable(() => import('../arroz-con-webo').Image);\r\nconst Label = loadable(() => import('../arroz-con-webo').Label);\r\nconst Subheading = loadable(() => import('../arroz-con-webo').Subheading);\r\n\r\nexport default class RecipeCard extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            'id': props.data?.pk,\r\n            'image_url': props.data?.image,\r\n            'image': \"\",\r\n            'name': props.data?.name,\r\n            'culture': props.data?.culture,\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        (async () => {\r\n            this.setState({'image': (await import(`../images/${this.state.image_url}`)).default})\r\n        })();\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if(prevProps.data !== this.props.data) {\r\n            (async () => {\r\n                this.setState({\r\n                    'id': this.props.data.pk,\r\n                    'image_url': this.props.data.image,\r\n                    'image': (await import(`../images/${this.props.data.image}`)).default,\r\n                    'name': this.props.data.name,\r\n                    'culture': this.props.data.culture,\r\n                });\r\n            })();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Link to=\"/recipe/\" state={{'recipe_clicked': this.state.id}}>\r\n                <FilledCard className='recipe-card' role={\"secondary\"} containerType=\"container\" rounded interactable>\r\n                    <figure className='recipe-image'>\r\n                        <Image source={this.state.image} alternate={this.state.description} />\r\n                    </figure>\r\n                    <div className='recipe-meta'>\r\n                        <Label className='recipe-culture' role=\"primary\" pill>{this.state.culture}</Label>\r\n                        <Subheading className='recipe-name'>{this.state.name}</Subheading>\r\n                    </div>\r\n                </FilledCard>\r\n            </Link>\r\n        );\r\n    }\r\n}","import * as React from 'react';\r\nimport loadable from '@loadable/component';\r\n\r\nimport RecipeCard from './recipe-card';\r\n\r\nconst Pane = loadable(() => import('../arroz-con-webo').Pane);\r\nconst Slideshow = loadable(() => import('../arroz-con-webo').Slideshow);\r\n\r\nexport default function RecipeCarousel({data}) {\r\n    const MAX_RECIPES_ON_PAGE = 6;\r\n    const [page_list, set_page_list] = React.useState();\r\n\r\n    // receives a list of objects containing: image, name, description\r\n    function pagify_data(data) {\r\n        let pages = [];\r\n\r\n        function cardify_data(data) {\r\n            let cards = [];\r\n    \r\n            if(data)\r\n                for(let i = 0; i < data.length; i++)\r\n                    cards.push(<RecipeCard key={i} index={i} data={data[i]} />);\r\n            return cards;\r\n        }\r\n\r\n        if(data)\r\n            for(let i = 0; i < data.length; i += MAX_RECIPES_ON_PAGE) {\r\n                const chunk = data.slice(i, i + MAX_RECIPES_ON_PAGE);\r\n                pages.push(\r\n                    <div className=\"recipe-slide\">\r\n                        {cardify_data(chunk)}\r\n                    </div>\r\n                );\r\n            }\r\n\r\n        return pages;\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        set_page_list(pagify_data(data));\r\n    }, [data])\r\n\r\n    return (\r\n        <Pane className='recipe-carousel' containerType=\"container\" rounded>\r\n            <Slideshow enterStyle=\"fade-in-up\" exitStyle=\"fade-out-against\">\r\n                {page_list}\r\n            </Slideshow>\r\n        </Pane>\r\n    );\r\n}","import * as React from 'react';\r\nimport loadable from '@loadable/component';\r\n\r\nconst Checkbox = loadable(() => import('../arroz-con-webo').Checkbox);\r\nconst Submenu = loadable(() => import('../arroz-con-webo').Submenu);\r\nconst FilledButton = loadable(() => import('../arroz-con-webo').FilledButton);\r\nconst Icon = loadable(() => import('../arroz-con-webo').Icon);\r\nconst SideSheet = loadable(() => import('../arroz-con-webo').SideSheet);\r\nconst TonalButton = loadable(() => import('../arroz-con-webo').TonalButton);\r\n\r\nexport default function FilterAccordion({data, onFilter, onReset}) {\r\n    const [tab_list, set_tab_list] = React.useState();\r\n    const checked_list = React.useMemo(() => {\r\n        return new Set();\r\n    }, [])\r\n    \r\n    const [open, set_open] = React.useState(false);\r\n\r\n    const toggle_checked = React.useCallback((label) => {\r\n        checked_list.has(label)? checked_list.delete(label) : checked_list.add(label);\r\n    }, [checked_list]);\r\n\r\n    // receives a JSON object with different keys and lists of filters within those keys\r\n    const tabify_data = React.useCallback((data) => {\r\n        let tabs = [];\r\n\r\n        const labelify_data = data => {\r\n            let labels = [];\r\n    \r\n            if(data)\r\n                for(let i = 0; i < data.length; i++) {\r\n                    labels.push(<Checkbox key={i} label={data[i].name} defaultChecked={checked_list.has(data[i].name)} onToggle={toggle_checked} />);\r\n                }\r\n    \r\n            return labels;\r\n        };\r\n\r\n        \r\n        [\"Main Ingredient\", \"Dietary Restriction\", \"Culture\", \"Cooking Method\"].forEach(group_type => {\r\n            tabs.push(\r\n                <Submenu key={group_type} name={group_type} pill>\r\n                    {labelify_data(data[group_type])}\r\n                </Submenu>\r\n            );\r\n        });\r\n\r\n        return tabs;\r\n    }, [checked_list, toggle_checked]);\r\n\r\n    React.useEffect(() => {\r\n        set_tab_list(tabify_data(data))\r\n    }, [data, checked_list, tabify_data])\r\n    \r\n    function filter() {\r\n        onFilter(Array.from(checked_list));\r\n    }\r\n\r\n    function reset() {\r\n        checked_list.clear();\r\n        onReset();\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <FilledButton className={`collapse-button ${open? \"open\" : \"\"}`} pill onClick={() => set_open(!open)} >\r\n                <Icon scale={2}>\r\n                    <svg viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                        <rect class=\"fltr-line1\" x=\"7\" y=\"10\" width=\"18\" height=\"2\"/>\r\n                        <rect class=\"fltr-line2\" x=\"7\" y=\"20\" width=\"18\" height=\"2\"/>\r\n                        <circle class=\"fltr-crcl1\" cx=\"13\" cy=\"21\" r=\"3\"/>\r\n                        <circle class=\"fltr-crcl2\" cx=\"19\" cy=\"11\" r=\"3\"/>\r\n                    </svg>\r\n                </Icon>\r\n                <span>Filters</span>\r\n            </FilledButton>\r\n            <SideSheet open={open}>\r\n                <div className='filter-accordion'>\r\n                    {tab_list}\r\n                </div>\r\n                <div className='filter-button-container'>\r\n                    <FilledButton pill onClick={filter}>Filter Recipes</FilledButton>\r\n                    <TonalButton pill onClick={reset}>Reset Filters</TonalButton>\r\n                </div>\r\n            </SideSheet>\r\n        </>\r\n    );\r\n}","import * as React from \"react\";\r\n\r\nimport RecipeAPI from \"../api/recipeapi\";\r\nimport RecipeCarousel from '../components/recipe-carousel';\r\nimport FilterAccordion from '../components/filter-accordion';\r\n\r\nexport default function LibraryPage() {\r\n  let [recipe_data, set_recipe_data] = React.useState([]);\r\n  let [group_data, set_group_data] = React.useState({\"Main Ingredient\": [], \"Dietary Restriction\": [], \"Culture\": [], \"Cooking Method\": []});\r\n\r\n  let [reset, set_reset] = React.useState(true);\r\n\r\n  function filter_recipes(groups) {\r\n    (async () => {\r\n      set_recipe_data(await RecipeAPI.get_recipes(groups));\r\n    })();\r\n  }\r\n\r\n  function reset_recipes() {\r\n    set_reset(true);\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    if(reset)\r\n      (async () => {\r\n        set_group_data(await RecipeAPI.get_groups());\r\n        set_recipe_data(await RecipeAPI.get_recipes());\r\n      })();\r\n\r\n    set_reset(false);\r\n  }, [reset]);\r\n\r\n  return (\r\n    <main className=\"recipe-library\">\r\n      <FilterAccordion data={group_data} onFilter={filter_recipes} onReset={reset_recipes} />\r\n      <RecipeCarousel data={recipe_data} />\r\n    </main>\r\n  );\r\n}\r\n\r\nexport const Head = () => <title>All Recipes Page</title>"],"names":["FilledCard","loadable","Image","Label","Subheading","RecipeCard","_React$Component","props","_props$data","_props$data2","_props$data3","_props$data4","_this","call","state","data","pk","image","name","culture","_inheritsLoose","_proto","prototype","componentDidMount","this","setState","image_url","default","componentDidUpdate","prevProps","render","React","Link","to","id","className","role","containerType","rounded","interactable","source","alternate","description","pill","Pane","Slideshow","RecipeCarousel","_ref","page_list","set_page_list","pages","cardify_data","cards","i","length","push","key","index","chunk","slice","pagify_data","enterStyle","exitStyle","Checkbox","Submenu","FilledButton","Icon","SideSheet","TonalButton","FilterAccordion","onFilter","onReset","tab_list","set_tab_list","checked_list","Set","open","set_open","toggle_checked","label","has","delete","add","tabify_data","tabs","forEach","group_type","labels","defaultChecked","onToggle","labelify_data","onClick","scale","viewBox","xmlns","class","x","y","width","height","cx","cy","r","Array","from","clear","LibraryPage","recipe_data","set_recipe_data","group_data","set_group_data","reset","set_reset","RecipeAPI","get_groups","get_recipes","groups","Head"],"sourceRoot":""}